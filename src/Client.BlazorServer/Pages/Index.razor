@page "/Identity"
@using Services.Client.Model

@inject IdentityService IdentityService;

<Cover>
  <Grid BaseWidth="200px" Height="100px">
    @if (Identity == null)
    {
      <Box>Loading events...</Box>
    }
    else
    {
      
      foreach (var (identity, i) in Identity.Select((ev, i) => (ev, i)))
      {
        <GridItem Double="@(i==1)">
          <Background Color="lightgrey">
            @identity.Type: @identity.Value
          </Background>
        </GridItem>
      }
    }
  </Grid>
</Cover>

@code {

  private Identity[]? Identity { get; set; }

  protected override async Task OnInitializedAsync() => Identity = await IdentityService.GetIdentity();

}